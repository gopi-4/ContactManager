<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
	th:fragment="Layout(content)">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">

<!--Bootsrap 4 CDN-->
<!--  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->

<!--Fontawesome CDN-->
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> -->

<!-- FontAwesome CSS -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
	integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" th:href="@{/css/style.css}" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>

<title th:text="${title}">Smart Contact Manager</title>
</head>

<body onload="show()">

	<div id="preloader"></div>

	<!-- navbar -->
	<nav class="fixed-top navbar navbar-expand-lg navbar-dark bg-primary">
		<div class="container-fluid">
			<span onclick="toggleSidebar()"><i style="margin-top: 2.5px;"
				class="text-white fas fa-bars"></i></span> <a style="margin-left: 5px;"
				class="navbar-brand">Smart Contact Manager</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">

				<ul class="navbar-nav ms-auto mb-2 mb-lg-0 text-uppercase">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" th:href="@{/admin/index}">Home</a></li>
					<li class="nav-item"><a class="nav-link"
						th:href="@{/admin/profile}"><span th:text="${admin.name}"></span></a></li>
					<li class="nav-item"><a class="nav-link"
						th:href="@{/admin/signout}">Logout</a></li>
				</ul>

			</div>
		</div>
	</nav>
	<!-- navbar ends -->

	<div class="sidebar mt-2">

		<a id="home" th:href="@{/admin/index}" class="item"><i
			class="fas fa-home"></i> Home</a> <a id="users"
			th:href="@{/admin/viewUsers/0}" class="item"><i
			class="fas fa-address-book"></i> Users</a> <a id="profile"
			th:href="@{/admin/profile}" class="item"> <i class="far fa-user"></i>Your
			Profile
		</a> <a th:href="@{/admin/signout}" class="item"><i
			class="fas fa-sign-out-alt"></i>Logout</a>
		<div class="divider"></div>

	</div>

	<div class="content mt-5">
		<div th:replace="${content}"></div>
	</div>

	<!-- Optional JavaScript; choose one of the two! -->

	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>

	<!-- Option 2: Separate Popper and Bootstrap JS -->
	<!--
	    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
	    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
	    -->

	<script>
		var preloader = document.getElementById('preloader');

		function show(){
			preloader.style.display = 'none';
		}
	</script>
	<script>
		const toggleSidebar = () => {
		
			if($(".sidebar").is(":visible")){
				$(".sidebar").css("display","none");
				$(".banner").css("margin-left","0%");
				$(".banner").css("width","100%");
			}else{
				$(".sidebar").css("display","block");
			}
		};
	</script>
	<script>
		const search = () => {
		
			let query = $("#search-input").val();
		
			if(query==""){
				$(".search-result").hide();
			}else{
			
			let url = ` https://scm-v1.herokuapp.com/searchUser/${query}`;
		
				fetch(url).then((Response) => {
					return Response.json();
				}).then((data) => {
					/*console.log(data);*/
				
					let text = `<div class='list-group'>`;
				
					Object.keys(data).forEach((k) => {
						text+= `<a href='/admin/user/'${data[k].Id} class='list-group-item list-group-action'> ${data[k].name} </a>`;
					});
					text+='</div>';
					$(".search-result").html(text);
					$(".search-result").show();
				});	
			}
		};
	</script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script>
		function deleteUser(Id){
			swal({
				  title: "Are you sure?",
				  text: "Once deleted, you will not be able to recover this user!",
				  icon: "warning",
				  buttons: true,
				  dangerMode: true,
				})
				.then((willDelete) => {
				  if (willDelete) {
				      window.location="/admin/deleteUser/"+Id;
					  /* swal("Poof! Your imaginary file has been deleted!", {
				      icon: "success",
				    }); */
				  } else {
				    swal("Your user is safe!!");
				  }
				});
		} 
	</script>
</body>


<!-- Footer -->
<footer class="page-footer font-small bg-primary pt-4">

	<!-- Footer Text -->
	<div class="container-fluid text-center text-md-left">

		<!-- Grid row -->
		<div class="row">

			<!-- Grid column -->
			<div class="col-md-6 mt-md-0 mt-3">

				<!-- Content -->
				<h5 class="text-uppercase font-weight-bold">Footer text 1</h5>
				<p>Lorem ipsum dolor sit, amet consectetur adipisicing elit.
					Expedita sapiente sint, nulla, nihil repudiandae commodi
					voluptatibus corrupti animi sequi aliquid magnam debitis, maxime
					quam recusandae harum esse fugiat. Itaque, culpa?</p>

			</div>
			<!-- Grid column -->

			<hr class="clearfix w-100 d-md-none pb-3">

			<!-- Grid column -->
			<div class="col-md-6 mb-md-0 mb-3">

				<!-- Content -->
				<h5 class="text-uppercase font-weight-bold">Footer text 2</h5>
				<p>Lorem ipsum, dolor sit amet consectetur adipisicing elit.
					Optio deserunt fuga perferendis modi earum commodi aperiam
					temporibus quod nulla nesciunt aliquid debitis ullam omnis quos
					ipsam, aspernatur id excepturi hic.</p>

			</div>
			<!-- Grid column -->

		</div>
		<!-- Grid row -->

	</div>
	<!-- Footer Text -->

	<!-- Copyright -->
	<div class="footer-copyright text-center py-3">
		Â© 2022 Copyright : Ganesh
		<form>
			<script src="https://checkout.razorpay.com/v1/payment-button.js"
				data-payment_button_id="pl_J1184kAuoXX9yl" async> </script>
		</form>
	</div>
	<!-- Copyright -->

</footer>
<!-- Footer -->
</html>